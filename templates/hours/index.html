{% extends "base.html" %}
{% block content %}


<!-- schermindeling in helften-->
<div class="flex flex-col w-full h-screen">
    
    {% include 'components/navbar.html' %}

    <div class="w-11/12 mx-auto">





        <!--Hoofding-->
        <header class="w-full mx-auto mt-8">
            <div class="flex items-baseline">
                <div class="flex-1">
                    <form action="{{ url_for('hours_index') }}" method="GET">
                        <div class="w-1/2 text-center border-4 border-indigo-600 rounded-md py-1 my-1">
                            {{ person_form.person_id.label }}
                            {{ person_form.person_id(onchange="this.form.submit()") }}
                        </div>
                    </form>
                </div>
                <div class="flex-1 text-center text-indigo-600">
                    <h1 class="font-bold text-4xl">Werkuren</h1>
                </div>
                <div class="flex-1 text-right">
                    
                </div>
            </div>
        </header>



    <!-- 2 halve schermen boven en onder beginnen hieronder -->

        <!-- Bovenste helft -->
        <div class="w-full flex flex-col h-full">
            <div class=" flex-1 h-full">
                <!-- 3 kolommen in bovenste deel -->
                <div class="flex flex-row">
                    
                    <div class="flex-1 bg-indigo-900 rounded-md">
                    <form action="{{ url_for('hours_add') }}" method="POST">
                        <input type="hidden" name="person_id" value="{{ person_id }}">
                        <!-- links boven vak -->
                        <div class="">
                            <div class="w-3/4 m-auto text-center text-indigo-900 rounded-md py-3 bg-indigo-200 mb-4 mt-6">
                                {{ template_form.hidden_tag() }}
                                {{ template_form.workday.label }}
                                {{ template_form.workday(class="w-36 text-center ml-4 text-indigo-900 rounded-md") }}
                            </div>
                        </div>
                        <div class="">
                            <div class="w-1/2 m-auto text-center text-indigo-900 rounded-md py-2 bg-indigo-200 my-2">
                                {{ template_form.start_hour.label }}
                                {{ template_form.start_hour(class="w-32 text-center ml-4 text-indigo-900 rounded-md") }}
                            </div>
                            <div class="w-1/2 m-auto text-center text-indigo-900 rounded-md py-2 bg-indigo-200 mt-2 mb-4">
                                {{ template_form.end_hour.label }}
                                {{ template_form.end_hour(class="w-32 text-center ml-4 text-indigo-900 rounded-md") }}
                            </div> 
                        </div>
                        <div class="w-1/2 m-auto text-center text-xs text-indigo-900 rounded-md py-2 bg-indigo-200 my-4">
                            {{ template_form.type_day.label }}
                            {{ template_form.type_day(class="w-32 text-center text-indigo-900 rounded-md") }}
                        </div> 
                        <div class="text-center">
                            {{ template_form.submit(class="w-1/4 text-indigo-900 rounded-md py-1 bg-indigo-100 mt-2 mb-4 pointer-events-auto") }}
                        </div>      
                    </div>
                    </form>

                    <div class="flex-1">
                        <!-- midden boven vak -->
                        <div class="border-8 border-indigo-900 mx-1.5 rounded-md h-full">
                            <div class="w-3/4 m-auto text-center text-white font-bold rounded-md py-3 bg-indigo-800 mb-4 mt-6">
                                Overuren
                            </div>
                            <div class="w-3/4 m-auto text-center text-indigo-900 rounded-md py-3 bg-indigo-200 my-4">
                                Week: {{ data.extrahours_week }} uren
                            </div>
                            <div class="w-3/4 m-auto text-center text-indigo-900 rounded-md py-3 bg-indigo-200 my-4">
                                Maand: {{ data.extrahours_month }} uren
                            </div>
                            <div class="w-3/4 m-auto text-center text-orange-900 rounded-md py-3 bg-orange-200 my-4">
                                Jaar: {{ data.extrahours_year }} uren
                            </div>
                              
                        </div>

                    </div>
                    <div class="flex-1">
                        <!-- rechts boven vak -->

                        <div class="border-8 border-indigo-900 rounded-md">
                            <div class="w-3/4 border-4 border-indigo-900 rounded-md m-auto my-5">
                                <div class="box-content text-center text-white font-bold rounded-md py-3 bg-indigo-800 m-1">
                                    Opgenomen verlof
                                </div>
                                <div class="box-content text-center text-indigo-900 rounded-md py-3 bg-indigo-300 m-1">
                                    {{ data.leavedays }}
                                </div>
                            </div>
                            <div class="w-3/4 border-4 border-indigo-900 rounded-md m-auto my-5">
                                <div class="box-content text-center text-white font-bold rounded-md py-3 bg-indigo-800 m-1">
                                    Totaal te nemen verlof
                                </div>
                                <div class="box-content text-center text-indigo-900 rounded-md py-3 bg-indigo-300 m-1">
                                    {{ days_off }}
                                </div>
                            </div>
                              
                        </div>

                    </div>
                </div>

            </div>
            <!-- Onderste helft -->
            <div class="flex-1 h-full">
                <div class="flex">



                    <div class="flex-initial">

                    </div>
                    <div class="flex-1 w-4/5">
                        <div class="text-center mx-auto bg-indigo-900 rounded-md text-white py-2 my-12">
                            <table class="bg-indigo-200 rounded-md text-indigo-900 mx-auto">
                                <thead>
                                    <th class="w-1/12 p-4 border-b-2 border-indigo-900">Maandag</th>
                                    <th class="w-1/12 border-b-2 border-indigo-900">Dinsdag</th>
                                    <th class="w-1/12 border-b-2 border-indigo-900">Woensdag</th>
                                    <th class="w-1/12 border-b-2 border-indigo-900">Donderdag</th>
                                    <th class="w-1/12 border-b-2 border-indigo-900">Vrijdag</th>
                                    <th class="w-1/12 border-b-2 border-indigo-900">Zaterdag</th>
                                    <th class="w-1/12 border-b-2 border-indigo-900">Zondag</th>
                                </thead>
                                <tbody>
                                    <tr>
                                        {% for i in range(7) %}
                                            <td class="w-1/8 p-4">
                                                {% if data.weeklyview_days[i] and data.weeklyview_days[i].type == 'werkdag'  %}
                                                    {{ data.weeklyview_days[i].start.strftime('%H:%M') }} - {{ data.weeklyview_days[i].end.strftime('%H:%M') }}
                                                {% elif data.weeklyview_days[i] and data.weeklyview_days[i].type == 'verlof' %}
                                                    Verlof
                                                {% elif data.weeklyview_days[i] and data.weeklyview_days[i].type == 'recupdag' %}
                                                    Recup
                                                {% elif data.weeklyview_days[i] and data.weeklyview_days[i].type == 'weekend' %}
                                                    Weekend
                                                {% elif data.weeklyview_days[i] and data.weeklyview_days[i].type == 'feestdag' %}
                                                    Feestdag
                                                {% elif data.weeklyview_days[i] and data.weeklyview_days[i].type == 'TW' %}
                                                    TW
                                                {% else %}
                                                    ?
                                                {% endif %}
                                            </td>
                                        {% endfor %}
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div class="flex-initial w-1/5 text-center">
                        <pre class="inline-block mx-auto my-6">{{ month_view }}</pre>
                    </div>
                </div>



            </div>
        </div>




    </div>
</div>

        
{% endblock %}
